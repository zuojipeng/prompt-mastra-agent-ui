# â˜ï¸ Cloudflare Pages ç®€æ˜“éƒ¨ç½²æŒ‡å—ï¼ˆNext.js 16ï¼‰

## ğŸ¯ é€‚ç”¨åœºæ™¯

é¡¹ç›®ä½¿ç”¨ **Next.js 16**ï¼Œæš‚ä¸æ”¯æŒæœ¬åœ° Cloudflare CLIï¼Œä½†å¯ä»¥é€šè¿‡ **Dashboard éƒ¨ç½²**ï¼

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤ï¼ˆè¶…ç®€å•ï¼‰

### 1. ç™»å½• Cloudflare

è®¿é—®ï¼šhttps://dash.cloudflare.com/

### 2. åˆ›å»º Pages é¡¹ç›®

1. å·¦ä¾§èœå•ï¼š**Workers & Pages**
2. ç‚¹å‡»ï¼š**Create Application**
3. é€‰æ‹©ï¼š**Pages**
4. ç‚¹å‡»ï¼š**Connect to Git**

### 3. è¿æ¥ GitHub ä»“åº“

1. æˆæƒ Cloudflare è®¿é—® GitHub
2. é€‰æ‹©ä»“åº“ï¼š`zuojipeng/prompt-mastra-agent-ui`
3. ç‚¹å‡»ï¼š**Begin setup**

### 4. é…ç½®æ„å»ºè®¾ç½® â­ é‡è¦

```yaml
é¡¹ç›®åç§°: prompt-optimizer-frontend
ç”Ÿäº§åˆ†æ”¯: main

æ„å»ºé…ç½®:
  Framework preset: Next.js
  æ„å»ºå‘½ä»¤: npm run build
  æ„å»ºè¾“å‡ºç›®å½•: .next
  Node.js ç‰ˆæœ¬: 18
```

**å…³é”®é…ç½®**ï¼š
- âœ… æ„å»ºå‘½ä»¤ï¼š`npm run build`
- âœ… è¾“å‡ºç›®å½•ï¼š`.next`
- âœ… Frameworkï¼šé€‰æ‹© `Next.js`

### 5. ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

ç‚¹å‡» **Environment variables (advanced)**

æ·»åŠ ï¼ˆå¦‚æœéœ€è¦è‡ªå®šä¹‰ APIï¼‰ï¼š

| å˜é‡å | å€¼ |
|--------|-----|
| `NEXT_PUBLIC_API_URL` | `https://prompt-optimizer.hahazuo460.workers.dev/api/optimize` |
| `NODE_VERSION` | `18` |

å¦‚æœä¸æ·»åŠ ï¼Œä¼šä½¿ç”¨ä»£ç ä¸­çš„é»˜è®¤ API åœ°å€ã€‚

### 6. éƒ¨ç½²

ç‚¹å‡»ï¼š**Save and Deploy**

ç­‰å¾… 2-3 åˆ†é’Ÿ...

### 7. å®Œæˆï¼ğŸ‰

éƒ¨ç½²æˆåŠŸåä½ ä¼šçœ‹åˆ°ï¼š
```
âœ… Success! Your site is live at:
https://prompt-optimizer-frontend.pages.dev
```

---

## ğŸ“ è¯¦ç»†æ„å»ºé…ç½®

åœ¨ Cloudflare Pages Dashboard ä¸­ï¼š

### æ„å»ºè®¾ç½®é¡µé¢

```
Framework preset
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Next.js                   â–¼ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Build command
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ npm run build               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Build output directory
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ .next                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Root directory (optional)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¯å¢ƒå˜é‡é¡µé¢

```
Environment variables (advanced)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Variable name        Value            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NODE_VERSION         18               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NEXT_PUBLIC_API_URL  https://...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ ä¸ºä»€ä¹ˆè¿™æ ·é…ç½®

### Next.js 16 çš„ç‰¹æ®Šæƒ…å†µ

1. **æœ¬åœ° CLI ä¸æ”¯æŒ**
   - `@cloudflare/next-on-pages` è¿˜ä¸æ”¯æŒ Next.js 16
   - ä½† Cloudflare æœåŠ¡ç«¯å¯èƒ½å·²æ”¯æŒ

2. **ç›´æ¥ä½¿ç”¨ Next.js æ„å»º**
   - æ„å»ºå‘½ä»¤ï¼š`npm run build`
   - è¾“å‡ºç›®å½•ï¼š`.next`
   - Cloudflare ä¼šè‡ªåŠ¨å¤„ç†éƒ¨ç½²

3. **å¦‚æœé‡åˆ°é—®é¢˜**
   - æ–¹æ¡ˆ Aï¼šä½¿ç”¨ Vercel éƒ¨ç½²ï¼ˆåŸç”Ÿæ”¯æŒ Next.js 16ï¼‰
   - æ–¹æ¡ˆ Bï¼šé™çº§åˆ° Next.js 15

---

## ğŸ”„ è‡ªåŠ¨éƒ¨ç½²

é…ç½®å®Œæˆåï¼Œæ¯æ¬¡æ¨é€ä»£ç ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼š

```bash
git add .
git commit -m "feat: æ›´æ–°åŠŸèƒ½"
git push origin main

# Cloudflare è‡ªåŠ¨ï¼š
# 1. æ£€æµ‹æ¨é€
# 2. è¿è¡Œ npm run build
# 3. éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
```

---

## ğŸŒ è®¿é—®ç½‘ç«™

éƒ¨ç½²æˆåŠŸåçš„ URLï¼š

```
ç”Ÿäº§ç¯å¢ƒ: https://prompt-optimizer-frontend.pages.dev
```

---

## ğŸ¨ è‡ªå®šä¹‰åŸŸå

### æ·»åŠ åŸŸå

1. Pages â†’ ä½ çš„é¡¹ç›® â†’ **Custom domains**
2. ç‚¹å‡» **Set up a custom domain**
3. è¾“å…¥ä½ çš„åŸŸåï¼ˆä¾‹å¦‚ï¼š`prompt.hahazuo460.com`ï¼‰
4. Cloudflare è‡ªåŠ¨é…ç½® DNS
5. ç­‰å¾… SSL è¯ä¹¦ç­¾å‘ï¼ˆ1-5 åˆ†é’Ÿï¼‰

---

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] å·²æ¨é€ä»£ç åˆ° GitHub ä»“åº“
- [ ] å·²ç™»å½• Cloudflare Dashboard
- [ ] å·²è¿æ¥ GitHub ä»“åº“
- [ ] å·²é€‰æ‹© Frameworkï¼šNext.js
- [ ] æ„å»ºå‘½ä»¤ï¼š`npm run build`
- [ ] è¾“å‡ºç›®å½•ï¼š`.next`
- [ ] ï¼ˆå¯é€‰ï¼‰å·²è®¾ç½®ç¯å¢ƒå˜é‡
- [ ] å·²ç‚¹å‡» "Save and Deploy"
- [ ] ç­‰å¾…æ„å»ºå®Œæˆ
- [ ] å·²æµ‹è¯•éƒ¨ç½² URL

---

## ğŸ› å¦‚æœæ„å»ºå¤±è´¥

### æ£€æŸ¥æ„å»ºæ—¥å¿—

Cloudflare Dashboard â†’ Pages â†’ ä½ çš„é¡¹ç›® â†’ Deployments â†’ ç‚¹å‡»å¤±è´¥çš„éƒ¨ç½²

### å¸¸è§é—®é¢˜

#### 1. Node.js ç‰ˆæœ¬é—®é¢˜

æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
```
NODE_VERSION = 18
```

#### 2. æ„å»ºå‘½ä»¤é”™è¯¯

ç¡®ä¿ä½¿ç”¨ï¼š
```
npm run build
```

#### 3. è¾“å‡ºç›®å½•é”™è¯¯

ç¡®ä¿ä½¿ç”¨ï¼š
```
.next
```

#### 4. ä¾èµ–å®‰è£…å¤±è´¥

æ£€æŸ¥ `package.json` æ˜¯å¦æ­£ç¡®æäº¤åˆ° GitHubã€‚

---

## ğŸ“Š æ„å»ºæˆåŠŸæ—¥å¿—ç¤ºä¾‹

```
14:30:15.123  Cloning repository...
14:30:18.456  Installing dependencies...
14:30:45.789  Running build command: npm run build
14:31:20.123  âœ“ Creating an optimized production build
14:31:25.456  âœ“ Compiled successfully
14:31:30.789  âœ“ Collecting page data
14:31:35.123  âœ“ Generating static pages (5/5)
14:31:40.456  Deploying to Cloudflare's global network...
14:31:45.789  âœ… Success! Deployed to https://prompt-optimizer-frontend.pages.dev
```

---

## ğŸš€ æ›¿ä»£æ–¹æ¡ˆï¼šVercel éƒ¨ç½²

å¦‚æœ Cloudflare æœ‰é—®é¢˜ï¼ŒVercel 100% æ”¯æŒ Next.js 16ï¼š

### Vercel éƒ¨ç½²ï¼ˆ1 åˆ†é’Ÿï¼‰

1. è®¿é—®ï¼šhttps://vercel.com/
2. ç™»å½•å¹¶å¯¼å…¥ GitHub ä»“åº“
3. ç‚¹å‡» Deploy
4. å®Œæˆï¼

Vercel ä¼˜åŠ¿ï¼š
- âœ… åŸç”Ÿæ”¯æŒ Next.js 16
- âœ… é›¶é…ç½®
- âœ… è‡ªåŠ¨ä¼˜åŒ–
- âœ… å…è´¹è®¡åˆ’å……è¶³

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

### å¦‚æœé‡åˆ°é—®é¢˜

1. **æŸ¥çœ‹æ„å»ºæ—¥å¿—** - Cloudflare Dashboard
2. **æ£€æŸ¥é…ç½®** - ç¡®è®¤æ„å»ºå‘½ä»¤å’Œè¾“å‡ºç›®å½•
3. **å°è¯• Vercel** - å¦‚æœ Cloudflare ä¸å·¥ä½œ

---

## ğŸ‰ æ€»ç»“

**æ¨èæµç¨‹**ï¼š

1. âœ… å…ˆå°è¯• Cloudflare Pages Dashboard éƒ¨ç½²
2. âœ… å¦‚æœä¸è¡Œï¼Œä½¿ç”¨ Vercel éƒ¨ç½²
3. âœ… ä¸¤è€…éƒ½æ”¯æŒè‡ªå®šä¹‰åŸŸå
4. âœ… ä¸¤è€…éƒ½æœ‰å…è´¹è®¡åˆ’

**æœ€ç®€å•çš„æ–¹å¼**ï¼šVercelï¼ˆé›¶é…ç½®ï¼Œ100% å…¼å®¹ Next.js 16ï¼‰

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿç°åœ¨å°±å» Cloudflare Dashboard éƒ¨ç½²å§ï¼ğŸš€**

